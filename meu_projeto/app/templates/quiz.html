<!doctype html>
<html lang="pt-BR" data-theme="light">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Quiz ‚Äî CodeQuest</title>
   <link rel="icon" href="{{ url_for('static', filename='images/logo.png') }}" type="image/png">
  <link rel="stylesheet" href="{{ url_for('static', filename='CSS/quiz.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

</head>
<body>
  <header class="nav">
  <div class="wrap">
    <div class="logo">
      <a href="{{ url_for('routes.dashboard') }}" class="logo-link" title="Ir para o Dashboard">
        <img src="{{ url_for('static', filename='images/logo-removebg-preview.png') }}" alt="CodeQuest Logo">
      </a>
    </div>

      <nav class="nav-links" aria-label="menu principal">
        <a href="/dashboard">In√≠cio</a>
        <a href="/perguntas">Perguntas & Respostas</a>
        <a href="/quiz" class="active">Quiz</a>
        <a href="/cursos">Cursos</a>
        <a href="/sobre">Sobre n√≥s</a>
        <a href="/ranking">Ranking</a>
        <a href="/perfil">Perfil</a>
        <a class="cta" href="/logout">Sair</a>

        <!-- Switch de Tema -->
        <div class="theme-toggle">
          <input
            type="checkbox"
            id="dark-mode-toggle"
            aria-label="Alternar entre modo claro e modo escuro"
            title="Alternar tema" />
          <label for="dark-mode-toggle" class="slider"></label>
          <span class="mode-label">Claro</span>
        </div>
      </nav>

      <button class="mobile-toggle" aria-label="Abrir menu">
  <span></span>
  <span></span>
  <span></span>
</button>
    </div>
  </header>

  <main class="container">
    <!-- Settings Panel -->
    <div class="settings">
      <div class="settings-header">
        <h2>
          <i class="fa-solid fa-gear"></i>&nbsp;
          Configura√ß√µes do Quiz
        </h2>
        <p>Configure as op√ß√µes antes de iniciar o desafio</p>
      </div>
      
      <div class="settings-grid">
        <div class="form-group">
          <label for="numQuestions">
            <i data-feather="hash"></i>
            Quantidade de Perguntas
          </label>
          <input type="number" id="numQuestions" min="1" max="50" value="10" class="form-control">
        </div>
        
        <div class="form-group">
          <label for="categoriaSelect">
            <i data-feather="tag"></i>
            Categoria
          </label>
          <select id="categoriaSelect" class="form-control">
            <option value="">Todas as categorias</option>
            <option>Python</option>
            <option>JavaScript</option>
            <option>Frontend</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="dificuldadeSelect">
            <i data-feather="bar-chart-2"></i>
            Dificuldade
          </label>
          <select id="dificuldadeSelect" class="form-control">
            <option value="">Qualquer dificuldade</option>
            <option value="facil">üü¢ F√°cil</option>
            <option value="medio">üü° M√©dio</option>
            <option value="dificil">üî¥ Dif√≠cil</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="tempoPergunta">
            <i data-feather="clock"></i>
            Tempo por Pergunta
          </label>
          <select id="tempoPergunta" class="form-control">
            <option value="60">‚è±Ô∏è 60 segundos</option>
            <option value="50">‚è±Ô∏è 50 segundos</option>
            <option value="40">‚è±Ô∏è 40 segundos</option>
            <option value="30">‚è±Ô∏è 30 segundos</option>
            <option value="20">‚è±Ô∏è 20 segundos</option>
            <option value="10">‚è±Ô∏è 10 segundos</option>
          </select>
        </div>
      </div>
      
      <button class="btn btn-primary" id="startBtn" disabled>
        <span class="loading" id="loadingSpinner"></span>
        <i data-feather="play" id="startBtnIcon" style="display: none;"></i>
        <span id="startBtnText" style="display: none;">Iniciar Quiz</span>
      </button>
    </div>

    <!-- Quiz Container -->
    <div class="card" id="quizContainer" aria-live="polite">
      <!-- Quiz Setup -->
      <div id="quizSetup">
        <div class="quiz-intro">
          <div class="quiz-intro-icon">
            <i data-feather="award"></i>
          </div>
          <h2>Quiz de Programa√ß√£o</h2>
          <p>Teste seus conhecimentos e acompanhe seu progresso. Configure as op√ß√µes acima e pressione "Iniciar Quiz" para come√ßar o desafio com perguntas aleat√≥rias.</p>
          
          <div class="quiz-features">
            <div class="feature">
              <i data-feather="zap"></i>
              <span>Perguntas Aleat√≥rias</span>
            </div>
            <div class="feature">
              <i data-feather="trending-up"></i>
              <span>Acompanhe seu Progresso</span>
            </div>
            <div class="feature">
              <i data-feather="clock"></i>
              <span>Tempo Cronometrado</span>
            </div>
          </div>
          
          <button class="btn btn-secondary" id="verHistoricoBtn">
            <i data-feather="bar-chart"></i>
            Ver Hist√≥rico
          </button>
        </div>
      </div>

      <!-- Quiz Play Area -->
      <div id="quizPlay" style="display:none">
        <div class="quiz-header">
          <div class="progress-info">
            <i data-feather="list"></i>
            <span class="progress-text" id="progressText">Pergunta 1 / 5</span>
          </div>
          <div class="timer" id="timer">
            <i data-feather="clock"></i>
            <span>00:30</span>
          </div>
        </div>
        
        <div class="progress" aria-hidden="true">
          <div class="progress-bar" id="progressBar"></div>
        </div>

        <div class="question-container">
          <div class="question-badge">
            <i data-feather="help-circle"></i>
            <span>Pergunta</span>
          </div>
          <div class="question" id="questionText">Carregando...</div>
          <div class="choices" id="choices"></div>
        </div>

        <div class="quiz-navigation">
  <button class="btn btn-secondary" onclick="prevQuestion()">
    <i data-feather="arrow-left"></i>
    Anterior
  </button>
  
  <button class="btn btn-danger" onclick="confirmarEncerrarQuiz()" id="encerrarBtn">
    <i data-feather="x-circle"></i>
    Encerrar Quiz
  </button>
  
  <button class="btn btn-primary" onclick="nextQuestion()" id="nextBtn">
    Pr√≥xima
    <i data-feather="arrow-right"></i>
  </button>
</div>
      </div>

      <!-- Quiz Result -->
      <div id="quizResult" style="display:none">
        <div class="result-container">
          <div class="result-icon">
            <i data-feather="award"></i>
          </div>
          <h3>Quiz Conclu√≠do!</h3>
          <div class="score-summary" id="scoreSummary"></div>
          <div class="result-actions">
            <button class="btn btn-primary" onclick="location.reload()">
              <i data-feather="refresh-cw"></i>
              Jogar Novamente
            </button>
            <button class="btn btn-secondary" onclick="location.href='/dashboard'">
              <i data-feather="home"></i>
              Voltar ao Painel
            </button>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <i data-feather="save"></i>
      Os resultados do quiz s√£o salvos automaticamente
    </footer>
  </main>

<script defer src="{{ url_for('static', filename='JS/quiz.js') }}"></script>

</body>
</html>